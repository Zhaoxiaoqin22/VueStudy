<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>promise初体验</title>
</head>
<body>
    <div>
       <div class="container">
           <h2 class="page-header">Promise初体验</h2>
           <button class="btn btn-primary" id="btn">点击抽奖</button>
       </div>
    </div>
    <script>
        function rand(m,n) {
            return Math.ceil(Math.random()*(n-m+1)) + m-1
        }

        const btn =document.getElementById('btn')
        btn.addEventListener('click',function () {
         /*   setTimeout(()=>{
                let n = rand(1,100);
                if(n<=30){
                    alert('恭喜中奖')
                }else{
                    alert('再接再厉')
                }
            })*/
            const p = new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    let n =rand(1,100)
                    if(n<=30){
                        resolve(n)
                    }else{
                        reject(n)
                    }
                },1000)
            })

            p.then(
                (n)=>{alert('恭喜中奖，获得保时捷911!'+n)},
                (n)=>{alert('再接再厉'+n)}
            )

        })



    </script>


</body>
</html>